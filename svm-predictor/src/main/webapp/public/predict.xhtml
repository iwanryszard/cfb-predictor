<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core">
 
  <h:form prependId="false"> 
  	<h:messages errorClass="errorMessage" showDetail="false" showSummary="true"/>
  	
  	<h:selectOneMenu id="predictionType" value="#{predictionsWebBean.selectedPredictionType}">
        <f:selectItems value="#{predictionsWebBean.predictionTypes}" />
    </h:selectOneMenu>
        
 	<p:panelGrid columns="2">
 		<h:outputText value="Training start season" /> 
 		<h:outputText value="Training end season" /> 
 		<p:inputText id="trainingStart" value="#{predictionsWebBean.trainingStartYear}" required="true"/>
 		<p:inputText id="trainingEnd" value="#{predictionsWebBean.trainingEndYear}" required="true"/>
 		<h:outputText value="Minimum games played:" /> 
 		<p:inputText id="minimumGames" value="#{predictionsWebBean.minimumGamesPlayed}"/>
 	</p:panelGrid>
 		
    <p:commandButton value="Train Model" id="trainModelButton" update="predictButton" 
    	actionListener="#{predictionsWebBean.trainModel}" />
    <h:outputText id="trainingSummary" value="#{predictionsWebBean.trainingSummaryMsg}" />
        
    <p:panelGrid columns="2">	
 		<h:outputText value="Testing start season" /> 
 		<h:outputText value="Testing end season" /> 
 		<p:inputText id="testingStart" value="#{predictionsWebBean.testingStartYear}" />
 		<p:inputText id="testingEnd" value="#{predictionsWebBean.testingEndYear}" />
 	</p:panelGrid>
 	
 	<p:commandButton value="Predict" id="predictButton" 
         update="result" process="@this, testingStart, testingEnd, minimumGames" actionListener="#{predictionsWebBean.predict}" disabled="#{not predictionsWebBean.modelTrained}"/>
    <h:outputText id="testingSummary" value="#{predictionsWebBean.testingSummaryMsg}" />
 	<h:outputText id="result" value="Result: #{predictionsWebBean.resultMessage}" style="font-weight:bold"/>
  </h:form>
</html>