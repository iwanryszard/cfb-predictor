<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"   
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:base-prediction="http://java.sun.com/jsf/composite/base-prediction">
  <h:head>
  	Predict
  </h:head>
  <h:form prependId="false"> 
  	<h:messages errorClass="errorMessage" showDetail="false" showSummary="true"/>
 	
 	<base-prediction:base-prediction bean="#{predictionsWebBean}" />
			
    <p:commandButton value="Train Model" id="trainModelButton" update="@form" 
    	actionListener="#{predictionsWebBean.trainModel}" />
    <h:outputText id="trainingSummary" value="#{predictionsWebBean.trainingSummaryMsg}" />
 	
 	<br/>	
 	<p:commandButton value="Predict" id="predictButton" 
         update="@form" actionListener="#{predictionsWebBean.predict}" disabled="#{not predictionsWebBean.modelTrained}"/>
    <h:outputText id="testingSummary" value="#{predictionsWebBean.testingSummaryMsg}" />
    <br/>
 	<h:outputText id="result" value="Result: #{predictionsWebBean.resultMessage}" style="font-weight:bold"/>
 	<p:panelGrid columns="2">
 		<h:outputText id="stake" value="Stake:"/>
 		<p:inputText id="stakeValue" value="#{predictionsWebBean.stakeValue}" />
 		<h:outputText id="totalStaked" value="Total Staked:"/>
 		<h:outputText id="totalStakedOutput" value="#{predictionsWebBean.totalStaked}">
 			<f:convertNumber pattern="#0.00" />
 		</h:outputText>
 		<h:outputText id="totalWon" value="Total Won:"/>
 		<h:outputText id="totalWonOutput" value="#{predictionsWebBean.totalWon}" >
 			<f:convertNumber pattern="#0.00" />
 		</h:outputText>
 		<h:outputText id="newWon" value="Net Won:"/>
 		<h:outputText id="netWonOutput" value="#{predictionsWebBean.netWon}" >
 			<f:convertNumber pattern="#0.00" />
 		</h:outputText>
 		<h:outputText id="roiPct" value="ROI%:"/>
 		<h:outputText id="roiPctOutput" value="#{predictionsWebBean.roiPct}" >
 			<f:convertNumber pattern="#0.00" />
 		</h:outputText>
 	</p:panelGrid>
 	<p:commandButton value="Compute" id="computeButton" 
        actionListener="#{predictionsWebBean.computeStatsForStake}"/>
  </h:form>
</html>